var searchFunc=function(t,n,s){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var e=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),t=document.getElementById(n),r=document.getElementById(s);t.addEventListener("input",function(){var u,o='<ul class="search-result-list">',h=this.value.trim().toLowerCase().split(/[\s\-]+/);r.innerHTML="",this.value.trim().length<=0||(u=1,e.forEach(function(t){var r,n,s=!0,a=t.title.trim().toLowerCase(),i=t.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),e=t.url,c=-1,l=-1;""!=a&&""!=i&&h.forEach(function(t,e){r=a.indexOf(t),c=i.indexOf(t),r<0&&c<0?s=!1:(c<0&&(c=0),0==e&&(l=c))}),s&&(o+="<li><a href='"+e+"' class='search-result-title'>"+String(u)+". "+a+"</a>",u+=1,e=t.content.trim().replace(/<[^>]+>/g,""),0<=l&&(t=l-20,n=e.substr(t=t<0?0:t,100),h.forEach(function(t){var e=new RegExp(t,"gi");n=n.replace(e,'<em class="search-keyword">'+t+"</em>")}),o+='<p class="search-result">'+n+"...</p>"),o+="</li>")}),o+="</ul>",o='<p class="search-result-summary">共找到'+String(u-1)+"条结果</p>"+o,r.innerHTML=o)})}})};